# Maskable Icon の作成ガイド

PWA アイコンを目いっぱい表示するための設定が完了しました。

## 完了した設定

✅ **vite.config.ts の更新**
- `purpose: "maskable"` を追加
- テーマカラーを `#3ecf8e`（アプリのメインカラー）に変更

## 現在のアイコンについて

現在の `pwa-192x192.png` と `pwa-512x512.png` は、**セーフゾーン（40%）を考慮していない可能性**があります。

### セーフゾーンとは？

Android などのデバイスでは、アイコンが円形や角丸に切り抜かれます。重要な要素が切れないよう、**中央の 80% の範囲にロゴやテキストを配置**する必要があります。

```
┌─────────────────────┐
│ 10% マージン         │
│  ┌───────────────┐  │
│  │               │  │
│  │  セーフゾーン  │  │ ← 重要な要素はここに
│  │    (80%)      │  │
│  │               │  │
│  └───────────────┘  │
│ 10% マージン         │
└─────────────────────┘
```

## アイコンの更新方法

### オプション1: 既存アイコンをそのまま使う（簡易）

既存のアイコンが中央に配置されていて、余白がある場合は、**現在の設定で OK** です。デバイスが自動的に調整します。

### オプション2: Maskable 専用アイコンを作成（推奨）

より美しく表示するには、セーフゾーンを考慮した専用アイコンを作成：

#### 作成手順

1. **ツールを使う（推奨）**
   - [Maskable.app](https://maskable.app/editor) にアクセス
   - 既存のアイコンをアップロード
   - セーフゾーン（40%）を確認しながらサイズ調整
   - エクスポート

2. **手動で作成**
   - 512x512px のキャンバスを用意
   - 中央 410x410px（80%）の範囲にロゴを配置
   - 背景色を `#3ecf8e`（またはアプリのテーマカラー）に設定
   - PNG で保存

3. **ファイルを配置**
   ```
   public/
     pwa-192x192.png  ← 192x192px に縮小して配置
     pwa-512x512.png  ← 512x512px で配置
   ```

## テスト方法

### 1. ローカルでテスト
```bash
npm run build
npm run preview
```

### 2. Chrome DevTools で確認
1. Chrome で開く
2. F12 → Application タブ → Manifest
3. アイコンのプレビューを確認

### 3. 実機でテスト
1. ホーム画面に追加
2. さまざまな形状（円形、角丸、しずく型）で表示を確認

## 参考リンク

- [Maskable Icons 仕様](https://web.dev/maskable-icon/)
- [Maskable.app Editor](https://maskable.app/editor)
- [PWA Icon Generator](https://www.pwabuilder.com/)

## トラブルシューティング

### アイコンが更新されない
- ブラウザのキャッシュをクリア
- PWA をアンインストールして再インストール

### 余白がまだある
- アイコン画像がセーフゾーンを考慮しているか確認
- 背景色がテーマカラーと一致しているか確認
